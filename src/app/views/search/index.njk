{% extends "layout.njk" %}
{% import "parts/section-products.njk" as section %}

{% block content %}
  <section class="search-products container">
    <aside>
      <div class="header">
        <h2>{{ search.term }}</h2>
        {% if search.total == 0 %}
          <p>Nenhum encontrado.</p>
        {% elif search.total == 1 %}
          <p>1 encontrado.</p>
        {% else %}
          <p>{{ search.total }} encontrados.</p>
        {% endif %}
      </div><!--header-->

      <nav class="categories">
        <h4>Categorias</h4>
        <ul>
          {% for category in categories %}
            <li><a href="/products/search?filter={{ search.term }}&category={{ category.id }}">{{ category.name }}</a></li>
          {% endfor %}
        </ul>
      </nav><!--categories-->
    </aside>

    {{ section.products("", "searched", products) }}
  </section><!--search-products-->
{% endblock %}